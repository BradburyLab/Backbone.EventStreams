/*! Backbone.EventStreams - v0.1.0 - 2014-04-14
* https://github.com/pyykkis/Backbone.EventStreams
* Copyright (c) 2014 Jarno Keskikangas <jarno.keskikangas@leonidasoy.fi>; Licensed MIT */
(function(){var e,t,n,r=[].slice;n=function(e,t){return t.EventStream={listenToEventStream:function(t,n,i){var s;return i==null&&(i=_.identity),s=this,new e.EventStream(function(o){var u,a;return u=function(){var t,n;t=1<=arguments.length?r.call(arguments,0):[],n=o(new e.Next(i.apply(null,t)));if(n===e.noMore)return a()},a=function(){return s.stopListening(t,n,u)},s.listenTo(t,n,u),a})},asEventStream:function(t,n){var i;return n==null&&(n=_.identity),i=this,new e.EventStream(function(s){var o,u;return o=function(){var t,i;t=1<=arguments.length?r.call(arguments,0):[],i=s(new e.Next(n.apply(null,t)));if(i===e.noMore)return u()},u=function(){return i.off(t,o)},i.on(t,o,this),u})}},_.extend(t,t.EventStream),_.extend(t.Model.prototype,t.EventStream),_.extend(t.Collection.prototype,t.EventStream),_.extend(t.Router.prototype,t.EventStream),_.extend(t.History.prototype,t.EventStream),_.extend(t.View.prototype,t.EventStream),t.BaconProperty={toModel:function(){var e,n;return n=new t.Model(this.take(1)),e=function(e){return n.set(e)},this.onValue(e),n}},_.extend(e.Property.prototype,t.BaconProperty)},typeof module!="undefined"&&module!==null?(t=require("baconjs"),e=require("backbone"),module.exports=n(t,e)):typeof define=="function"&&define.amd?define(["bacon","backbone"],n):n(this.Bacon,this.Backbone)}).call(this);